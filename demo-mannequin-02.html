<!DOCTYPE html>

<html>
	<head>
		<script src="three.min.js"></script>
	</head>
	
	<body>
		<script src="human.js"></script>
		<script>
		
			createScene();
			
			var man = new Male();
				man.position.set(20,3.6,0);
				man.l_arm.straddle(15);
				man.r_arm.straddle(15);
				man.l_wrist.bend(45);
				man.r_wrist.bend(45);
				man.l_wrist.turn(45);
				man.r_wrist.turn(45);
				man.turn(-120);
			
			var woman = new Female();
				woman.position.set(-20,2,0);
				woman.l_leg.straddle(-5);
				woman.r_leg.straddle(-5);
				woman.l_wrist.bend(45);
				woman.r_wrist.bend(45);
				woman.l_wrist.turn(45);
				woman.r_wrist.turn(45);
				woman.turn(-60);
			
			var kid = new Child();
				kid.position.y = -8;
			
			
			function animate(t)
			{
				man.l_fingers.bend(65+65*sin(2*t));
				man.r_fingers.bend(65+65*sin(2*t));
				
				woman.l_fingers.bend(65+65*sin(3*t));
				woman.r_fingers.bend(65+65*sin(3*t));
				
				var s = sin(2*t);
				kid.turn( t,RIGHT );
				kid.torso.bend(20+20*s);
				kid.head.nod(20-40*s);
				kid.l_leg.raise(40+40*s);
				kid.r_leg.raise(40+40*s);
				kid.l_knee.bend(80+80*s);
				kid.r_knee.bend(80+80*s);
				kid.l_ankle.bend(40+40*s);
				kid.r_ankle.bend(40+40*s);
				
				var angle = 20+8*sin(2*t);
				kid.l_leg.straddle(angle);
				kid.r_leg.straddle(angle);
				kid.l_ankle.tilt(angle);
				kid.r_ankle.tilt(angle);

				// put the kid on the ground by 
				// using the position of the ankles
				kid.position.y += -28-kid.l_ankle.point(0,0,0).y;
			}			
	
		</script>
	</body>
</html>